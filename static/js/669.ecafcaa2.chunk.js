"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[669],{669:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var r=n(861),a=n(439),s=n(757),i=n.n(s),o=n(791),c=n(689),u=n(87),l={container:"Movies_container__5agh3",form:"Movies_form__a6uP0",input:"Movies_input__PCCAR",button:"Movies_button__rXFnr",buttonSubmit:"Movies_buttonSubmit__CfP1L",list:"Movies_list__PM-Yl",link:"Movies_link__r4VOG",pagination:"Movies_pagination__DP+QV",buttonPage:"Movies_buttonPage__6FrtI",info:"Movies_info__884km",error:"Movies_error__gMlTD"},_=n(184),m=function(e){var t=e.handleFetching,n=(0,o.useState)(""),s=(0,a.Z)(n,2),m=s[0],h=s[1],v=(0,o.useState)([]),p=(0,a.Z)(v,2),f=p[0],d=p[1],b=(0,o.useState)(!1),x=(0,a.Z)(b,2),g=x[0],j=x[1],k=(0,o.useState)(1),M=(0,a.Z)(k,2),N=M[0],S=M[1],P=(0,o.useState)(!1),w=(0,a.Z)(P,2),y=w[0],C=w[1],Z=(0,c.s0)(),F=function(){var e=(0,r.Z)(i().mark((function e(n,r){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t("https://api.themoviedb.org/3/search/movie?query=".concat(n,"&include_adult=false&language=en-US&page=").concat(r));case 3:a=e.sent,d(a.results),j(!0),Z("/movies",{replace:!0}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),C(!0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.currentTarget,r=n.elements.search.value,h(r),S(1),e.next=7,F(r,1);case 7:n.reset();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,_.jsx)("main",{className:l.main,children:(0,_.jsxs)("div",{className:l.container,children:[(0,_.jsxs)("form",{className:l.form,onSubmit:D,children:[(0,_.jsx)("input",{className:l.input,type:"text",name:"search"}),(0,_.jsx)("button",{className:l.buttonSubmit,type:"submit",children:"Search"})]}),g&&f&&(f.length>0?(0,_.jsxs)("div",{children:[(0,_.jsx)("ul",{className:l.list,children:f.map((function(e){return(0,_.jsx)("li",{children:(0,_.jsx)(u.rU,{className:l.link,to:"/movies/".concat(e.id),children:e.title})},e.id)}))}),(0,_.jsxs)("div",{className:l.pagination,children:[(0,_.jsx)("button",{className:l.buttonPage,onClick:function(){if(1!==N){var e=N-1;S(e),F(m,e)}},type:"button",children:"Back"}),(0,_.jsx)("button",{className:l.buttonPage,onClick:function(){var e=N+1;S(e),F(m,e)},type:"button",children:"Next"})]})]}):(0,_.jsx)("p",{className:l.info,children:"There are no matching results."})),(y||!f)&&(0,_.jsx)("p",{className:l.error,children:"Error: Failed to get information from the server."})]})})}}}]);
//# sourceMappingURL=669.ecafcaa2.chunk.js.map