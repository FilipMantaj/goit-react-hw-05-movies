{"version":3,"file":"static/js/669.ecafcaa2.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/pages-styles/Movies.module.css?070a","pages/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Movies_container__5agh3\",\"form\":\"Movies_form__a6uP0\",\"input\":\"Movies_input__PCCAR\",\"button\":\"Movies_button__rXFnr\",\"buttonSubmit\":\"Movies_buttonSubmit__CfP1L\",\"list\":\"Movies_list__PM-Yl\",\"link\":\"Movies_link__r4VOG\",\"pagination\":\"Movies_pagination__DP+QV\",\"buttonPage\":\"Movies_buttonPage__6FrtI\",\"info\":\"Movies_info__884km\",\"error\":\"Movies_error__gMlTD\"};","import PropTypes from 'prop-types';\nimport { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport css from '../pages-styles/Movies.module.css';\n\nconst Movies = ({ handleFetching }) => {\n  const [search, setSearch] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [submitted, setSubmitted] = useState(false);\n  const [pageNum, setPageNum] = useState(1);\n  const [error, setError] = useState(false);\n\n  const navigate = useNavigate();\n\n  const showResults = async (search, pageNum) => {\n    try {\n      const data = await handleFetching(\n        `https://api.themoviedb.org/3/search/movie?query=${search}&include_adult=false&language=en-US&page=${pageNum}`\n      );\n      setSearchResults(data.results);\n      setSubmitted(true);\n      navigate(`/movies`, { replace: true });\n    } catch (error) {\n      setError(true);\n    }\n  };\n\n  const handleBack = () => {\n    if (pageNum === 1) return;\n\n    const updatedPageNum = pageNum - 1;\n    setPageNum(updatedPageNum);\n    showResults(search, updatedPageNum);\n  };\n\n  const handleNext = () => {\n    const updatedPageNum = pageNum + 1;\n    setPageNum(updatedPageNum);\n    showResults(search, updatedPageNum);\n  };\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n\n    const form = event.currentTarget;\n    const search = form.elements.search.value;\n\n    setSearch(search);\n    setPageNum(1);\n    await showResults(search, 1);\n\n    form.reset();\n  };\n\n  return (\n    <main className={css.main}>\n      <div className={css.container}>\n        <form className={css.form} onSubmit={handleSubmit}>\n          <input className={css.input} type=\"text\" name=\"search\" />\n          <button className={css.buttonSubmit} type=\"submit\">\n            Search\n          </button>\n        </form>\n        {submitted &&\n          searchResults &&\n          (searchResults.length > 0 ? (\n            <div>\n              <ul className={css.list}>\n                {searchResults.map(result => (\n                  <li key={result.id}>\n                    <Link className={css.link} to={`/movies/${result.id}`}>\n                      {result.title}\n                    </Link>\n                  </li>\n                ))}\n              </ul>\n              <div className={css.pagination}>\n                <button\n                  className={css.buttonPage}\n                  onClick={handleBack}\n                  type=\"button\"\n                >\n                  Back\n                </button>\n                <button\n                  className={css.buttonPage}\n                  onClick={handleNext}\n                  type=\"button\"\n                >\n                  Next\n                </button>\n              </div>\n            </div>\n          ) : (\n            <p className={css.info}>There are no matching results.</p>\n          ))}\n        {(error || !searchResults) && (\n          <p className={css.error}>\n            Error: Failed to get information from the server.\n          </p>\n        )}\n      </div>\n    </main>\n  );\n};\n\nMovies.propTypes = {\n  handleFetching: PropTypes.func.isRequired,\n};\n\nexport default Movies;"],"names":["_ref","handleFetching","_useState","useState","_useState2","_slicedToArray","search","setSearch","_useState3","_useState4","searchResults","setSearchResults","_useState5","_useState6","submitted","setSubmitted","_useState7","_useState8","pageNum","setPageNum","_useState9","_useState10","error","setError","navigate","useNavigate","showResults","_ref2","_asyncToGenerator","_regeneratorRuntime","_callee","data","_context","prev","next","concat","sent","results","replace","t0","stop","_x","_x2","apply","arguments","handleSubmit","_ref3","_callee2","event","form","_context2","preventDefault","currentTarget","elements","value","reset","_x3","_jsx","className","css","children","_jsxs","onSubmit","type","name","length","map","result","Link","to","id","title","onClick","updatedPageNum"],"sourceRoot":""}